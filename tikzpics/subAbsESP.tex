\def\absESPWidth{3.5}
\def\absESPHeight{3.5}

\subtikzpicturedef{subAbsESP} {
    r0, r1, r2, r3, r4, r5,
    l0, l1, l2, l3, l4, l5,
    t0, t1, t2, t3, t4, t5,
    b0, b1, b2, b3, b4, b5,
    north, south, east, west,
    northeast, northwest, southeast, southwest,
    center,
    origin%
} {
    \draw (#1-start) coordinate (#1-origin);
    \subAbsCtkDiagramBase {#1-absCtkDiagramBase} {#1-origin} {origin}

    \draw [absCtkModule]
    (#1-origin) coordinate (#1-bottomLeftCorner)
    (#1-bottomLeftCorner) ++(\absESPWidth, \absESPHeight)
    coordinate (#1-topRightCorner)

    \markgeocoordinate {#1}
    {(#1-topRightCorner)} {(#1-bottomLeftCorner)}
    {(#1-bottomLeftCorner)} {(#1-topRightCorner)}

    (#1-northwest) ++(-\absCtkPinPad, 0)
    ++(0, -0.5) coordinate (#1-l0)
    ++(0, -0.5) coordinate (#1-l1)
    ++(0, -0.5) coordinate (#1-l2)
    ++(0, -0.5) coordinate (#1-l3)
    ++(0, -0.5) coordinate (#1-l4)
    ++(0, -0.5) coordinate (#1-l5)

    (#1-northeast) ++(\absCtkPinPad, 0)
    ++(0, -0.5) coordinate (#1-r0)
    ++(0, -0.5) coordinate (#1-r1)
    ++(0, -0.5) coordinate (#1-r2)
    ++(0, -0.5) coordinate (#1-r3)
    ++(0, -0.5) coordinate (#1-r4)
    ++(0, -0.5) coordinate (#1-r5)

    (#1-northwest) ++(0, \absCtkPinPad)
    ++(0.5, 0) coordinate (#1-t0)
    ++(0.5, 0) coordinate (#1-t1)
    ++(0.5, 0) coordinate (#1-t2)
    ++(0.5, 0) coordinate (#1-t3)
    ++(0.5, 0) coordinate (#1-t4)
    ++(0.5, 0) coordinate (#1-t5)

    (#1-southwest) ++(0, -\absCtkPinPad)
    ++(0.5, 0) coordinate (#1-b0)
    ++(0.5, 0) coordinate (#1-b1)
    ++(0.5, 0) coordinate (#1-b2)
    ++(0.5, 0) coordinate (#1-b3)
    ++(0.5, 0) coordinate (#1-b4)
    ++(0.5, 0) coordinate (#1-b5)

    (#1-bottomLeftCorner) rectangle (#1-topRightCorner)

    \markgeocoordinate {#1}
    {(#1-t0)} {(#1-b0)}
    {(#1-l0)} {(#1-r0)}

    ;

}

\subtikzpictureactivate{subAbsESP}

%% subtikzname espname
\newcommand\ovrAbsESPDrawLabelName[2] {
    \draw [absCtkModule]
    (#1-center)
    node [
        inner sep = 0pt,
        anchor = center,
    ] {#2}
    ;
}
